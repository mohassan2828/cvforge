<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV FORGE | The Special Edition</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        :root {
            --base-white: #f0f2f5;
            --shadow-light: #ffffff;
            --shadow-dark: #d1d9e6;
            --accent: #00bcd4;
            --primary: #1a237e;
            --text: #3e4b5b;
        }

        body { 
            background-color: var(--base-white); 
            font-family: 'Cairo', sans-serif; 
            margin: 0; padding: 0; color: var(--text);
            transition: all 0.4s ease;
        }

        /* --- Header & UI --- */
        header {
            padding: 15px 30px;
            background: var(--base-white);
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 10px 10px 20px var(--shadow-dark), -10px -10px 20px var(--shadow-light);
            position: sticky; top: 0; z-index: 1000;
        }

        .logo-box { font-size: 22px; font-weight: 900; color: var(--primary); display: flex; align-items: center; gap: 8px; }
        .logo-box i { color: var(--accent); }

        .lang-selector { display: flex; gap: 5px; background: #eee; padding: 4px; border-radius: 12px; }
        .lang-btn { padding: 6px 12px; border: none; border-radius: 8px; cursor: pointer; font-size: 11px; font-weight: 800; background: transparent; }
        .lang-btn.active { background: var(--accent); color: white; }

        /* --- App Container --- */
        .app-container { max-width: 850px; margin: 40px auto; padding: 0 20px; }
        .glass-card {
            background: var(--base-white);
            padding: 35px; border-radius: 25px;
            box-shadow: 20px 20px 60px var(--shadow-dark), -20px -20px 60px var(--shadow-light);
        }

        .section-title { font-weight: 900; color: var(--accent); margin: 25px 0 15px; display: flex; align-items: center; gap: 10px; font-size: 16px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px; }
        @media (max-width: 600px) { .grid { grid-template-columns: 1fr; } }

        label { display: block; font-size: 12px; font-weight: 700; margin-bottom: 6px; color: var(--text); opacity: 0.8; }
        input, textarea {
            width: 100%; padding: 14px; border: none; border-radius: 12px;
            background: var(--base-white);
            box-shadow: inset 4px 4px 8px var(--shadow-dark), inset -4px -4px 8px var(--shadow-light);
            font-family: inherit; outline: none;
        }

        .download-btn {
            width: 100%; padding: 20px; border: none; border-radius: 15px;
            background: var(--primary); color: white;
            font-size: 17px; font-weight: 900; cursor: pointer; margin-top: 30px;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.1);
        }

        #toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); padding: 15px 30px; background: var(--primary); color: white; border-radius: 50px; display: none; z-index: 10000; font-weight: bold; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }

        /* --- Global PDF Design --- */
        #pdf-render-zone { position: absolute; top: -20000px; left: -20000px; }
        .pdf-page { width: 210mm; height: 297mm; background: white; display: grid; grid-template-columns: 75mm 135mm; direction: rtl; }
        .pdf-page.ltr { direction: ltr; grid-template-columns: 135mm 75mm; }
        .pdf-sidebar { background: #2c3e50; color: white; padding: 40px 25px; display: flex; flex-direction: column; align-items: center; }
        .pdf-content { padding: 50px 40px; }
        .pdf-h { border-bottom: 2px solid #eee; padding-bottom: 5px; margin: 25px 0 10px; font-weight: 900; color: #2c3e50; text-transform: uppercase; }
        .pdf-text { font-size: 13px; line-height: 1.6; color: #444; white-space: pre-line; }
    </style>
</head>
<body>

<header>
    <div class="logo-box"><i class="fas fa-file-invoice"></i> CV<span style="color:var(--accent)">FORGE</span> PRO</div>
    <div class="lang-selector">
        <button class="lang-btn active" onclick="changeLang('ar', this)">AR</button>
        <button class="lang-btn" onclick="changeLang('en', this)">EN</button>
        <button class="lang-btn" onclick="changeLang('fr', this)">FR</button>
        <button class="lang-btn" onclick="changeLang('it', this)">IT</button>
        <button class="lang-btn" onclick="changeLang('de', this)">DE</button>
    </div>
</header>

<div class="app-container">
    <div class="glass-card">
        <div class="section-title" id="t-p"><i class="fas fa-user"></i> المعلومات الشخصية</div>
        <div class="grid">
            <div><label id="l-n">الاسم الكامل</label><input type="text" id="inName"></div>
            <div><label id="l-j">المسمى الوظيفي</label><input type="text" id="inJob"></div>
        </div>
        <div class="grid">
            <div><label id="l-h">رقم الهاتف</label><input type="text" id="inPhone"></div>
            <div><label id="l-e">البريد الإلكتروني</label><input type="text" id="inEmail"></div>
        </div>

        <div class="section-title" id="t-c"><i class="fas fa-briefcase"></i> المسيرة والخبرات</div>
        <div style="margin-bottom:15px;"><label id="l-a">النبذة التعريفية</label><textarea id="inAbout" rows="3"></textarea></div>
        <div style="margin-bottom:15px;"><label id="l-ex">الخبرات المهنية</label><textarea id="inExp" rows="5"></textarea></div>
        
        <div class="grid">
            <div><label id="l-s">المهارات</label><textarea id="inSkills" rows="2"></textarea></div>
            <div><label id="l-lg">اللغات</label><textarea id="inLang" rows="2"></textarea></div>
        </div>

        <button class="download-btn" onclick="generatePDF()">
            <i class="fas fa-download"></i> <span id="b-d">تحميل السيرة الذاتية (PDF)</span>
        </button>
    </div>
</div>

<div id="toast"><i class="fas fa-sync fa-spin"></i> <span id="toast-text"></span></div>

<div id="pdf-render-zone">
    <div id="pdf-ui" class="pdf-page">
        <div class="pdf-sidebar">
            <div style="width:130px; height:130px; border-radius:50%; background:#ecf0f1; margin-bottom:30px;"></div>
            <div style="width:100%">
                <div class="pdf-h" id="ph-contact" style="color:var(--accent); border-color:rgba(255,255,255,0.1)">اتصال</div>
                <div style="font-size:11px; margin-bottom:8px;"><i class="fas fa-phone"></i> <span id="outPhone"></span></div>
                <div style="font-size:11px;"><i class="fas fa-envelope"></i> <span id="outEmail"></span></div>
                
                <div class="pdf-h" id="ph-skills" style="color:var(--accent); border-color:rgba(255,255,255,0.1); margin-top:30px;">المهارات</div>
                <div id="outSkills" style="font-size:11px; white-space:pre-line;"></div>
            </div>
        </div>
        <div class="pdf-content">
            <h1 id="outName" style="font-size:35px; margin:0; color:#2c3e50;"></h1>
            <p id="outJob" style="font-size:18px; color:var(--accent); font-weight:700; margin:5px 0 30px;"></p>
            
            <div class="pdf-h" id="ph-about">الملف الشخصي</div>
            <div id="outAbout" class="pdf-text"></div>
            
            <div class="pdf-h" id="ph-exp">الخبرة المهنية</div>
            <div id="outExp" class="pdf-text"></div>
            
            <div class="pdf-h" id="ph-lang">اللغات</div>
            <div id="outLang" class="pdf-text"></div>
        </div>
    </div>
</div>

<script>
    const dict = {
        ar: { p: "المعلومات الشخصية", c: "المسيرة والخبرات", n: "الاسم الكامل", j: "المسمى الوظيفي", h: "رقم الهاتف", e: "البريد الإلكتروني", a: "النبذة التعريفية", ex: "الخبرات المهنية", s: "المهارات", lg: "اللغات", d: "تحميل السيرة الذاتية (PDF)", ct: "اتصال", pr: "الملف الشخصي", ts: "جاري التحميل..." },
        en: { p: "Personal Information", c: "Career & Experience", n: "Full Name", j: "Job Title", h: "Phone Number", e: "Email", a: "Professional Summary", ex: "Work Experience", s: "Skills", lg: "Languages", d: "Download CV (PDF)", ct: "Contact", pr: "Profile", ts: "Downloading..." },
        fr: { p: "Informations Personnelles", c: "Expérience", n: "Nom Complet", j: "Poste", h: "Téléphone", e: "E-mail", a: "Résumé", ex: "Expérience Professionnelle", s: "Compétences", lg: "Langues", d: "Télécharger (PDF)", ct: "Contact", pr: "Profil", ts: "Téléchargement..." },
        it: { p: "Info Personali", c: "Esperienza", n: "Nome Completo", j: "Titolo", h: "Telefono", e: "Email", a: "Sommario", ex: "Esperienza Lavorativa", s: "Abilità", lg: "Lingue", d: "Scarica (PDF)", ct: "Contatto", pr: "Sommario", ts: "Scaricando..." },
        de: { p: "Persönliche Infos", c: "Erfahrung", n: "Vollständiger Name", j: "Beruf", h: "Telefon", e: "E-Mail", a: "Über mich", ex: "Berufserfahrung", s: "Fähigkeiten", lg: "Sprachen", d: "Herunterladen (PDF)", ct: "Kontakt", pr: "Profil", ts: "Wird geladen..." }
    };

    let curLang = 'ar';

    function changeLang(l, btn) {
        curLang = l;
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const isAr = l === 'ar';
        document.body.dir = isAr ? 'rtl' : 'ltr';
        document.getElementById('pdf-ui').className = isAr ? 'pdf-page' : 'pdf-page ltr';
        
        const d = dict[l];
        document.getElementById('t-p').innerHTML = `<i class="fas fa-user"></i> ${d.p}`;
        document.getElementById('t-c').innerHTML = `<i class="fas fa-briefcase"></i> ${d.c}`;
        document.getElementById('l-n').innerText = d.n;
        document.getElementById('l-j').innerText = d.j;
        document.getElementById('l-h').innerText = d.h;
        document.getElementById('l-e').innerText = d.e;
        document.getElementById('l-a').innerText = d.a;
        document.getElementById('l-ex').innerText = d.ex;
        document.getElementById('l-s').innerText = d.s;
        document.getElementById('l-lg').innerText = d.lg;
        document.getElementById('b-d').innerText = d.d;

        document.getElementById('ph-contact').innerText = d.ct;
        document.getElementById('ph-skills').innerText = d.s;
        document.getElementById('ph-about').innerText = d.pr;
        document.getElementById('ph-exp').innerText = d.ex;
        document.getElementById('ph-lang').innerText = d.lg;
    }

    async function generatePDF() {
        const t = document.getElementById('toast');
        t.innerText = dict[curLang].ts;
        t.style.display = 'block';

        const fields = ['Name', 'Job', 'Phone', 'Email', 'About', 'Exp', 'Skills', 'Lang'];
        fields.forEach(f => { document.getElementById('out' + f).innerText = document.getElementById('in' + f).value; });

        setTimeout(async () => {
            const canvas = await html2canvas(document.getElementById('pdf-ui'), { scale: 3 });
            const pdf = new jspdf.jsPDF('p', 'mm', 'a4');
            pdf.addImage(canvas.toDataURL('image/png'), 'PNG', 0, 0, 210, 297);
            pdf.save(`CV_${curLang}.pdf`);
            t.style.display = 'none';
        }, 500);
    }
</script>
</body>
</html>
